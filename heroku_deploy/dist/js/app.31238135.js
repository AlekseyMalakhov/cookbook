(function(e){function t(t){for(var c,a,u=t[0],l=t[1],o=t[2],d=0,b=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&b.push(r[a][0]),r[a]=0;for(c in l)Object.prototype.hasOwnProperty.call(l,c)&&(e[c]=l[c]);s&&s(t);while(b.length)b.shift()();return i.push.apply(i,o||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],c=!0,u=1;u<n.length;u++){var l=n[u];0!==r[l]&&(c=!1)}c&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var c={},r={app:0},i=[];function a(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=c,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)a.d(n,c,function(t){return e[t]}.bind(null,c));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var o=0;o<u.length;o++)t(u[o]);var s=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"06ef":function(e,t,n){},"224b":function(e,t,n){},"293c":function(e,t,n){"use strict";n("8101")},"2af6":function(e,t,n){},"2b00":function(e,t,n){"use strict";n("c1dd")},4205:function(e,t,n){"use strict";n("c90e")},"45f8":function(e,t,n){"use strict";n("d89b")},"488a":function(e,t,n){"use strict";n("8a6b")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),r=n("3fd4");n("7dd6");function i(e,t,n,r,i,a){var u=Object(c["M"])("Header"),l=Object(c["M"])("el-header"),o=Object(c["M"])("router-view"),s=Object(c["M"])("Footer"),d=Object(c["M"])("el-footer"),b=Object(c["M"])("el-container");return Object(c["D"])(),Object(c["i"])(b,{id:"main_container"},{default:Object(c["bb"])((function(){return[Object(c["m"])(l,null,{default:Object(c["bb"])((function(){return[Object(c["m"])(u)]})),_:1}),Object(c["m"])(o),Object(c["m"])(d,null,{default:Object(c["bb"])((function(){return[Object(c["m"])(s)]})),_:1})]})),_:1})}n("b0c0");var a=Object(c["fb"])("data-v-15aeb1a0");Object(c["G"])("data-v-15aeb1a0");var u=Object(c["l"])(" Cookbook "),l={class:"username"},o=Object(c["m"])("i",{class:"el-icon-s-custom"},null,-1),s=Object(c["l"])("Logout"),d=Object(c["m"])("i",{class:"el-icon-s-custom"},null,-1);Object(c["E"])();var b=a((function(e,t,n,r,i,b){var f=Object(c["M"])("el-button"),p=Object(c["M"])("router-link"),m=Object(c["M"])("el-row"),j=Object(c["M"])("el-col"),O=Object(c["M"])("el-avatar"),g=Object(c["M"])("el-dropdown-item"),v=Object(c["M"])("el-dropdown-menu"),y=Object(c["M"])("el-dropdown");return Object(c["D"])(),Object(c["i"])(m,{type:"flex",justify:"space-between",align:"middle"},{default:a((function(){return[Object(c["m"])(j,{span:12},{default:a((function(){return[Object(c["m"])(m,{type:"flex",align:"middle",justify:"start"},{default:a((function(){return[r.screenWidth<650?(Object(c["D"])(),Object(c["i"])(f,{key:0,icon:"el-icon-menu",type:"primary",circle:"",class:"menuButton",onClick:t[1]||(t[1]=function(e){return r.toggleSidebar()})})):Object(c["j"])("",!0),Object(c["m"])(p,{to:"/",class:"title"},{default:a((function(){return[u]})),_:1})]})),_:1})]})),_:1}),Object(c["m"])(j,{span:12},{default:a((function(){return[r.user?(Object(c["D"])(),Object(c["i"])(m,{key:0,type:"flex",align:"middle",justify:"end"},{default:a((function(){return[Object(c["m"])(p,{to:"/list/".concat(r.user._id),class:"chefLink"},{default:a((function(){return[Object(c["m"])("span",l,Object(c["Q"])(r.user.name),1)]})),_:1},8,["to"]),Object(c["m"])(y,{trigger:"click"},{dropdown:a((function(){return[Object(c["m"])(v,null,{default:a((function(){return[Object(c["m"])(g,{onClick:r.logout},{default:a((function(){return[s]})),_:1},8,["onClick"])]})),_:1})]})),default:a((function(){return[Object(c["m"])(O,{size:50,src:r.user.img,fit:"fill",class:"avatar"},{default:a((function(){return[o]})),_:1},8,["src"])]})),_:1})]})),_:1})):Object(c["j"])("",!0),r.user?Object(c["j"])("",!0):(Object(c["D"])(),Object(c["i"])(m,{key:1,type:"flex",align:"middle",justify:"end"},{default:a((function(){return[Object(c["m"])(p,{to:"/login",class:"avatarRoute"},{default:a((function(){return[Object(c["m"])(O,{size:50,src:"",class:"avatar"},{default:a((function(){return[d]})),_:1})]})),_:1})]})),_:1}))]})),_:1})]})),_:1})})),f=n("5502"),p=n("6c02"),m={name:"Header",setup:function(){var e=Object(p["d"])(),t=Object(f["b"])(),n=Object(c["g"])((function(){return t.state.User.user})),r=Object(c["g"])((function(){return t.state.User.screenWidth})),i=Object(c["g"])((function(){return t.state.User.showSidebar})),a=function(){localStorage.removeItem("user"),t.dispatch("User/setUser",null),e.push("/")},u=function(){i.value?t.dispatch("User/setShowSidebar",!1):t.dispatch("User/setShowSidebar",!0)};return{user:n,logout:a,screenWidth:r,toggleSidebar:u}}};n("293c");m.render=b,m.__scopeId="data-v-15aeb1a0";var j=m,O=Object(c["fb"])("data-v-8b7ca2f0");Object(c["G"])("data-v-8b7ca2f0");var g=Object(c["l"])(" Cookbook Â® "),v=Object(c["l"])(" 2021 ");Object(c["E"])();var y=O((function(e,t,n,r,i,a){var u=Object(c["M"])("el-row"),l=Object(c["M"])("el-col");return Object(c["D"])(),Object(c["i"])(u,{type:"flex",justify:"space-between",align:"middle"},{default:O((function(){return[Object(c["m"])(l,{span:12},{default:O((function(){return[Object(c["m"])(u,{type:"flex",align:"middle",justify:"start",class:"title"},{default:O((function(){return[g]})),_:1})]})),_:1}),Object(c["m"])(l,{span:12},{default:O((function(){return[Object(c["m"])(u,{type:"flex",align:"middle",justify:"end",class:"title"},{default:O((function(){return[v]})),_:1})]})),_:1})]})),_:1})})),h={};n("9a53");h.render=y,h.__scopeId="data-v-8b7ca2f0";var _=h,x={name:"App",components:{Header:j,Footer:_},setup:function(){var e=Object(f["b"])();e.dispatch("User/getAllUsers"),e.dispatch("User/getAllRecipes"),Object(c["A"])((function(){var t=localStorage.getItem("user");if(t){var n=JSON.parse(t);e.dispatch("User/setUser",n)}var c=function(){var e;return e=window.screen.width<window.innerWidth?window.screen.width:window.innerWidth,e};e.dispatch("User/setScreenWidth",c()),window.onresize=function(){var t=c();t<650?e.dispatch("User/setShowSidebar",!1):e.dispatch("User/setShowSidebar",!0),e.dispatch("User/setScreenWidth",c())}}))}};n("4205");x.render=i;var w=x,I=Object(c["fb"])("data-v-8da5de8e"),U=I((function(e,t,n,r,i,a){var u=Object(c["M"])("Sidebar"),l=Object(c["M"])("el-aside"),o=Object(c["M"])("router-view"),s=Object(c["M"])("el-main"),d=Object(c["M"])("el-container");return Object(c["D"])(),Object(c["i"])(d,null,{default:I((function(){return[r.showSidebar?(Object(c["D"])(),Object(c["i"])(l,{key:0,width:"200px"},{default:I((function(){return[Object(c["m"])(u)]})),_:1})):Object(c["j"])("",!0),Object(c["m"])(s,null,{default:I((function(){return[Object(c["m"])(o)]})),_:1})]})),_:1})})),D=(n("99af"),Object(c["fb"])("data-v-aeed9f62"));Object(c["G"])("data-v-aeed9f62");var S=Object(c["l"])(" Our users "),M=Object(c["m"])("i",{class:"el-icon-s-custom"},null,-1),k={style:{"margin-left":"10px"}},R={style:{"margin-left":"10px"}};Object(c["E"])();var E=D((function(e,t,n,r,i,a){var u=Object(c["M"])("el-row"),l=Object(c["M"])("el-button"),o=Object(c["M"])("el-avatar"),s=Object(c["M"])("el-menu-item"),d=Object(c["M"])("router-link"),b=Object(c["M"])("el-menu");return Object(c["D"])(),Object(c["i"])(c["b"],null,[r.selectedUser?Object(c["j"])("",!0):(Object(c["D"])(),Object(c["i"])(u,{key:0,type:"flex",justify:"center",class:"title"},{default:D((function(){return[S]})),_:1})),r.selectedUser?(Object(c["D"])(),Object(c["i"])(u,{key:1,style:{margin:"11px 0 12px 20px"}},{default:D((function(){return[Object(c["m"])(l,{type:"primary",icon:"el-icon-back",circle:"",onClick:t[1]||(t[1]=function(e){return r.unselectUser()})})]})),_:1})):Object(c["j"])("",!0),r.selectedUser?Object(c["j"])("",!0):(Object(c["D"])(),Object(c["i"])(b,{key:2},{default:D((function(){return[(Object(c["D"])(!0),Object(c["i"])(c["b"],null,Object(c["K"])(r.users,(function(e){return Object(c["D"])(),Object(c["i"])(d,{key:e._id,to:"/list/".concat(e._id),class:"chefLink"},{default:D((function(){return[Object(c["m"])(s,null,{default:D((function(){return[Object(c["m"])(o,{size:40,src:e.img,class:"avatar1 avatar2"},{default:D((function(){return[M]})),_:2},1032,["src"]),Object(c["m"])("span",k,Object(c["Q"])(e.name),1)]})),_:2},1024)]})),_:2},1032,["to"])})),128))]})),_:1})),r.selectedUser?(Object(c["D"])(),Object(c["i"])(b,{key:3},{default:D((function(){return[(Object(c["D"])(!0),Object(c["i"])(c["b"],null,Object(c["K"])(r.recipes,(function(e){return Object(c["D"])(),Object(c["i"])(d,{key:e._id,to:"/".concat(e.userID,"/recipe/").concat(e._id),class:"chefLink"},{default:D((function(){return[Object(c["m"])(s,{class:"menuElement"},{default:D((function(){return[Object(c["m"])(o,{size:40,src:e.img,class:"avatar1 avatar2"},null,8,["src"]),Object(c["m"])("span",R,Object(c["Q"])(e.recipeName),1)]})),_:2},1024)]})),_:2},1032,["to"])})),128))]})),_:1})):Object(c["j"])("",!0)],64)})),C=(n("7db0"),n("4de4"),{setup:function(){var e=Object(f["b"])(),t=Object(p["c"])(),n=Object(p["d"])(),r=Object(c["g"])((function(){return e.state.User.users})),i=Object(c["g"])((function(){return r.value.find((function(e){return e._id===t.params.userID}))})),a=Object(c["g"])((function(){var t=e.state.User.recipes.filter((function(e){return e.userID===i.value._id}));return t})),u=function(){n.push("/")};return{users:r,recipes:a,selectedUser:i,unselectUser:u}}});n("824c");C.render=E,C.__scopeId="data-v-aeed9f62";var L=C,V={name:"Home",components:{Sidebar:L},setup:function(){var e=Object(f["b"])(),t=Object(c["g"])((function(){return e.state.User.screenWidth})),n=Object(c["g"])((function(){return e.state.User.showSidebar}));return{screenWidth:t,showSidebar:n}}};n("d8f0");V.render=U,V.__scopeId="data-v-8da5de8e";var F=V,T=Object(c["fb"])("data-v-0644f111");Object(c["G"])("data-v-0644f111");var P=Object(c["m"])("h2",null,"Login page",-1),N=Object(c["l"])("Login"),A=Object(c["l"])("Cancel"),W=Object(c["l"])(" Don't have an account? Â  "),G=Object(c["l"])("Create one.");Object(c["E"])();var z,Q=T((function(e,t,n,r,i,a){var u=Object(c["M"])("el-row"),l=Object(c["M"])("el-input"),o=Object(c["M"])("el-form-item"),s=Object(c["M"])("el-button"),d=Object(c["M"])("el-form"),b=Object(c["M"])("router-link");return Object(c["D"])(),Object(c["i"])(c["b"],null,[Object(c["m"])(u,{type:"flex",justify:"center",align:"middle"},{default:T((function(){return[P]})),_:1}),Object(c["m"])(u,{type:"flex",justify:"center",align:"middle"},{default:T((function(){return[Object(c["m"])(d,{model:r.state.login,rules:r.state.rules,ref:"loginForm","label-width":"120px","label-position":"top"},{default:T((function(){return[Object(c["m"])(o,{label:"Username",prop:"name",class:"labelLogin1 labelLogin2"},{default:T((function(){return[Object(c["m"])(l,{modelValue:r.state.login.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.state.login.name=e}),class:"loginInput",onKeyup:t[2]||(t[2]=Object(c["db"])((function(){return r.submitForm()}),["enter"]))},null,8,["modelValue"])]})),_:1}),Object(c["m"])(o,{label:"Password",prop:"password",class:"labelLogin1 labelLogin2"},{default:T((function(){return[Object(c["m"])(l,{modelValue:r.state.login.password,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.state.login.password=e}),class:"loginInput",onKeyup:t[4]||(t[4]=Object(c["db"])((function(){return r.submitForm()}),["enter"]))},null,8,["modelValue"])]})),_:1}),Object(c["m"])(u,{type:"flex",justify:"space-around",align:"middle"},{default:T((function(){return[Object(c["m"])(s,{type:"primary",onClick:t[5]||(t[5]=function(e){return r.submitForm()})},{default:T((function(){return[N]})),_:1}),Object(c["m"])(s,{onClick:t[6]||(t[6]=function(e){return r.cancel()})},{default:T((function(){return[A]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])]})),_:1}),Object(c["m"])(u,{type:"flex",justify:"center",align:"middle",class:"signUp"},{default:T((function(){return[W,Object(c["m"])(b,{to:"/create_account"},{default:T((function(){return[G]})),_:1})]})),_:1})],64)})),q=(n("d3b7"),n("a1e9"));function K(e){r["a"].error({title:"Error",message:e})}function H(e){r["a"].success({title:"Success",message:e})}z="https://cookbook873.herokuapp.com";var J=z,B={setup:function(){var e=Object(p["d"])(),t=Object(f["b"])(),n=Object(q["i"])({login:{name:"",password:""},rules:{name:[{required:!0,message:"Please, enter username",trigger:"change"}],password:[{required:!0,message:"Please, enter password",trigger:"change"}]}}),c=Object(q["j"])(null),r=function(n){fetch(J+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){if(200===e.status)return e.json();K("Login or password is incorrect")})).then((function(n){n.name?(localStorage.setItem("user",JSON.stringify(n)),t.dispatch("User/setUser",n),e.push("/")):K("Something went wrong :( Please contact administrator")})).catch((function(e){console.error("Error:",e),K("Something went wrong :( Please contact administrator")}))};function i(){var e=this;this.loginForm.validate((function(t){t&&r(e.state.login)}))}function a(){this.loginForm.resetFields(),e.push("/")}return{state:n,submitForm:i,loginForm:c,cancel:a}}};n("2b00");B.render=Q,B.__scopeId="data-v-0644f111";var X=B,Y=Object(c["fb"])("data-v-0a5bccb2");Object(c["G"])("data-v-0a5bccb2");var Z=Object(c["m"])("h2",null,"Create account",-1),$=Object(c["m"])("div",{class:"imageLable"},"Image:",-1),ee=Object(c["m"])("i",{class:"el-icon-upload"},null,-1),te=Object(c["m"])("div",{class:"el-upload__text"},[Object(c["l"])("Drop file here or "),Object(c["m"])("em",null,"click to upload")],-1),ne=Object(c["m"])("div",{class:"el-upload__tip"}," jpg/png files with a size less than 500kb ",-1),ce=Object(c["l"])("Create"),re=Object(c["l"])("Cancel");Object(c["E"])();var ie=Y((function(e,t,n,r,i,a){var u=Object(c["M"])("el-row"),l=Object(c["M"])("el-input"),o=Object(c["M"])("el-form-item"),s=Object(c["M"])("el-upload"),d=Object(c["M"])("el-button"),b=Object(c["M"])("el-form");return Object(c["D"])(),Object(c["i"])(c["b"],null,[Object(c["m"])(u,{type:"flex",justify:"center",align:"middle"},{default:Y((function(){return[Z]})),_:1}),Object(c["m"])(u,{type:"flex",justify:"center",align:"middle"},{default:Y((function(){return[Object(c["m"])(b,{model:r.state.login,rules:r.state.rules,ref:"loginForm","label-width":"120px","label-position":"top"},{default:Y((function(){return[Object(c["m"])(o,{label:"Create your username",prop:"name",class:"labelLogin1 labelLogin2"},{default:Y((function(){return[Object(c["m"])(l,{modelValue:r.state.login.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.state.login.name=e}),class:"loginInput",onKeyup:t[2]||(t[2]=Object(c["db"])((function(){return r.submitForm()}),["enter"]))},null,8,["modelValue"])]})),_:1}),Object(c["m"])(o,{label:"Create your password",prop:"password1",class:"labelLogin1 labelLogin2"},{default:Y((function(){return[Object(c["m"])(l,{modelValue:r.state.login.password1,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.state.login.password1=e}),class:"loginInput",onKeyup:t[4]||(t[4]=Object(c["db"])((function(){return r.submitForm()}),["enter"]))},null,8,["modelValue"])]})),_:1}),Object(c["m"])(o,{label:"Repeat your password",prop:"password2",class:"labelLogin1 labelLogin2"},{default:Y((function(){return[Object(c["m"])(l,{modelValue:r.state.login.password2,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.state.login.password2=e}),class:"loginInput",onKeyup:t[6]||(t[6]=Object(c["db"])((function(){return r.submitForm()}),["enter"]))},null,8,["modelValue"])]})),_:1}),Object(c["m"])(u,{type:"flex",justify:"center",style:{"margin-bottom":"20px","flex-direction":"column"}},{default:Y((function(){return[$,Object(c["m"])(o,null,{default:Y((function(){return[Object(c["m"])(s,{class:"imgUpload1 imgUpload2",drag:"","on-change":r.handleImgUpload,multiple:"","auto-upload":!1},{tip:Y((function(){return[ne]})),default:Y((function(){return[ee,te]})),_:1},8,["on-change"])]})),_:1})]})),_:1}),Object(c["m"])(u,{type:"flex",justify:"space-around",align:"middle"},{default:Y((function(){return[Object(c["m"])(d,{type:"primary",onClick:t[7]||(t[7]=function(e){return r.submitForm()})},{default:Y((function(){return[ce]})),_:1}),Object(c["m"])(d,{onClick:t[8]||(t[8]=function(e){return r.cancel()})},{default:Y((function(){return[re]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])]})),_:1})],64)})),ae=n("5530"),ue={setup:function(){var e=Object(p["d"])(),t=Object(q["i"])({login:{name:"",password1:"",password2:""},rules:{name:[{required:!0,message:"Please, enter username",trigger:"change"}],password1:[{required:!0,message:"Please, enter password",trigger:"change"}],password2:[{required:!0,message:"Please, enter password",trigger:"change"}]}}),n=Object(q["j"])(null),c=Object(q["j"])(""),r=function(e){c.value=e.raw},i=function(t){var n=JSON.stringify(t),r={text:n,img:c.value};console.log(r);var i=new FormData;for(var a in r)i.append(a,r[a]);fetch(J+"/create_account",{method:"POST",body:i}).then((function(n){200===n.status?(H("Account successfully created."),e.push("/")):K("Login ".concat(t.name," already exists. Please, try another one."))})).then((function(e){return console.log(e)})).catch((function(e){console.error("Error:",e),K("Something went wrong :( Please contact administrator")}))};function a(){var e=this;this.loginForm.validate((function(t){if(t&&e.state.login.password1===e.state.login.password2){var n=Object(ae["a"])({},e.state.login);n.password=n.password1,delete n.password1,delete n.password2,i(n)}}))}function u(){this.loginForm.resetFields(),e.push("/")}return{state:t,submitForm:a,loginForm:n,cancel:u,handleImgUpload:r}}};n("8fe3");ue.render=ie,ue.__scopeId="data-v-0a5bccb2";var le=ue,oe=Object(c["fb"])("data-v-36c37896");Object(c["G"])("data-v-36c37896");var se={style:{margin:"auto 20px"}},de=Object(c["m"])("h2",null,"Create a new recipe",-1),be=Object(c["m"])("div",{style:{"font-size":"14px",color:"#606266","margin-bottom":"15px"}},"Ingredients:",-1),fe=Object(c["m"])("div",{class:"imageLable"},"Image:",-1),pe=Object(c["m"])("i",{class:"el-icon-upload"},null,-1),me=Object(c["m"])("div",{class:"el-upload__text"},[Object(c["l"])("Drop file here or "),Object(c["m"])("em",null,"click to upload")],-1),je=Object(c["m"])("div",{class:"el-upload__tip"}," jpg/png files with a size less than 500kb ",-1),Oe=Object(c["l"])("Create"),ge=Object(c["l"])("Cancel");Object(c["E"])();var ve=oe((function(e,t,n,r,i,a){var u=Object(c["M"])("el-row"),l=Object(c["M"])("el-input"),o=Object(c["M"])("el-form-item"),s=Object(c["M"])("AddIngredientField"),d=Object(c["M"])("el-button"),b=Object(c["M"])("el-tooltip"),f=Object(c["M"])("el-image"),p=Object(c["M"])("el-upload"),m=Object(c["M"])("el-form");return Object(c["D"])(),Object(c["i"])("div",se,[Object(c["m"])(u,{type:"flex",justify:"center",align:"middle"},{default:oe((function(){return[de]})),_:1}),Object(c["m"])(u,{type:"flex",justify:"center",align:"middle"},{default:oe((function(){return[Object(c["m"])(m,{model:r.state.recipe,rules:r.state.rules,ref:"recipeForm","label-width":"120px","label-position":"top"},{default:oe((function(){return[Object(c["m"])(o,{label:"Recipe name",prop:"recipeName",class:"labelRecipe1 labelRecipe2"},{default:oe((function(){return[Object(c["m"])(l,{modelValue:r.state.recipe.recipeName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.state.recipe.recipeName=e})},null,8,["modelValue"])]})),_:1}),be,(Object(c["D"])(!0),Object(c["i"])(c["b"],null,Object(c["K"])(r.state.recipe.recipeIngredients,(function(e,t){return Object(c["D"])(),Object(c["i"])(s,{i:t,key:e.id,id:e.id,units:r.units,onChangeIngredient:r.changeIng,onDeleteIngredient:r.deleteIng},null,8,["i","id","units","onChangeIngredient","onDeleteIngredient"])})),128)),Object(c["m"])(u,{type:"flex",justify:"center",align:"middle"},{default:oe((function(){return[Object(c["m"])(b,{effect:"light",content:"Add ingredient",placement:"left"},{default:oe((function(){return[Object(c["m"])(d,{type:"success",icon:"el-icon-plus",circle:"",onClick:t[2]||(t[2]=function(e){return r.addIng()})})]})),_:1})]})),_:1}),Object(c["m"])(o,{label:"Text:"},{default:oe((function(){return[Object(c["m"])(l,{type:"textarea",autosize:{minRows:4},placeholder:"Please input",modelValue:r.state.recipe.recipeText,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.state.recipe.recipeText=e})},null,8,["modelValue"])]})),_:1}),fe,r.img?(Object(c["D"])(),Object(c["i"])(u,{key:0,type:"flex",justify:"center",align:"middle",style:{"margin-bottom":"30px","flex-direction":"row"}},{default:oe((function(){return[Object(c["m"])(f,{style:{height:"100px"},src:r.imgURL,fit:"contain",class:"preview"},null,8,["src"]),Object(c["m"])(d,{type:"danger",icon:"el-icon-delete",circle:"",style:{"margin-left":"20px"},onClick:t[4]||(t[4]=function(e){return r.deleteImg()})})]})),_:1})):Object(c["j"])("",!0),r.img?Object(c["j"])("",!0):(Object(c["D"])(),Object(c["i"])(u,{key:1,type:"flex",justify:"center",align:"middle",style:{"margin-bottom":"20px"}},{default:oe((function(){return[Object(c["m"])(o,{style:{width:"100%"}},{default:oe((function(){return[Object(c["m"])(p,{class:"imgUpload1 imgUpload2",drag:"",action:"","on-change":r.handleImgUpload,"auto-upload":!1},{tip:oe((function(){return[je]})),default:oe((function(){return[pe,me]})),_:1},8,["on-change"])]})),_:1})]})),_:1})),Object(c["m"])(u,{type:"flex",justify:"space-around",align:"middle",style:{"margin-bottom":"50px"}},{default:oe((function(){return[Object(c["m"])(d,{type:"primary",onClick:t[5]||(t[5]=function(e){return r.submitForm()})},{default:oe((function(){return[Oe]})),_:1}),Object(c["m"])(d,{onClick:t[6]||(t[6]=function(e){return r.cancel()})},{default:oe((function(){return[ge]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])]})),_:1})])})),ye=(n("3ca3"),n("ddb0"),n("2b3d"),n("c740"),Object(c["fb"])("data-v-f7121b28"));Object(c["G"])("data-v-f7121b28");var he={style:{display:"flex"}};Object(c["E"])();var _e=ye((function(e,t,n,r,i,a){var u=Object(c["M"])("el-input"),l=Object(c["M"])("el-col"),o=Object(c["M"])("el-option"),s=Object(c["M"])("el-select"),d=Object(c["M"])("el-button"),b=Object(c["M"])("el-row"),f=Object(c["M"])("el-form-item");return Object(c["D"])(),Object(c["i"])(f,{label:"#"+(r.props.i+1),prop:"recipeForm",class:"labelIng1 labelIng2"},{default:ye((function(){return[Object(c["m"])(b,{type:"flex",gutter:20},{default:ye((function(){return[Object(c["m"])(l,{xs:24,sm:14,style:{"margin-top":"15px"}},{default:ye((function(){return[Object(c["m"])(u,{modelValue:r.state.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.state.name=e}),onInput:t[2]||(t[2]=function(e){return r.sendData(e)}),placeholder:"Ingredient"},null,8,["modelValue"])]})),_:1}),Object(c["m"])(l,{xs:24,sm:4,style:{"margin-top":"15px"}},{default:ye((function(){return[Object(c["m"])(u,{modelValue:r.state.amount,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.state.amount=e}),onInput:t[4]||(t[4]=function(e){return r.sendData(e,!0)}),inputMode:"numeric",placeholder:"Amount"},null,8,["modelValue"])]})),_:1}),Object(c["m"])(l,{xs:24,sm:6,style:{"margin-top":"15px"}},{default:ye((function(){return[Object(c["m"])("div",he,[Object(c["m"])(s,{modelValue:r.state.unit,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.state.unit=e}),onChange:t[6]||(t[6]=function(e){return r.sendData(e)}),placeholder:"Unit"},{default:ye((function(){return[(Object(c["D"])(!0),Object(c["i"])(c["b"],null,Object(c["K"])(r.props.units,(function(e){return Object(c["D"])(),Object(c["i"])(o,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"]),Object(c["m"])(d,{type:"danger",icon:"el-icon-delete",circle:"",style:{"margin-left":"20px"},onClick:t[7]||(t[7]=function(e){return r.deleteIng()}),class:1===r.props.id?"invisible":""},null,8,["class"])])]})),_:1})]})),_:1})]})),_:1},8,["label"])})),xe=(n("ac1f"),n("5319"),n("a9e3"),n("5c40")),we=function(e){var t=/[^\d]/g,n=e.replace(t,"");return n},Ie={name:"AddIngredientField",props:{units:{type:Array,required:!0},id:{type:Number,required:!0},editedIngr:{type:Object,required:!1},i:{type:Number,required:!0}},setup:function(e,t){var n=Object(q["i"])({name:"",amount:"",unit:""});Object(xe["E"])((function(){e.editedIngr&&(n.name=e.editedIngr.name,n.amount=e.editedIngr.amount,n.unit=e.editedIngr.unit)}));var c=function(c,r){if(r){var i=we(c);n.amount=i}var a=Object(ae["a"])({},n);a.id=e.id,t.emit("change-ingredient",a)},r=function(){t.emit("delete-ingredient",e.id)};return{props:e,sendData:c,state:n,deleteIng:r}}};n("45f8");Ie.render=_e,Ie.__scopeId="data-v-f7121b28";var Ue=Ie,De=2,Se={components:{AddIngredientField:Ue},setup:function(){var e=Object(f["b"])(),t=Object(q["a"])((function(){return e.state.User.user})),n=Object(p["d"])(),c=["none","g","kg","L","ml","tea sp.","table sp."],r=Object(q["i"])({recipe:{recipeName:"",recipeIngredients:[{id:1,name:"",amount:"",unit:""}],recipeText:""},rules:{recipeName:[{required:!0,message:"Please, enter username",trigger:"change"}]}}),i=Object(q["j"])(""),a=Object(q["j"])(""),u=Object(q["j"])(null),l=function(c){var r=Object(ae["a"])({},c);r.userID=t.value._id;var u=new Date(Date.now()),l=u.toLocaleDateString("en-GB");r.date=l,r.user=t.value.name;var o=JSON.stringify(r),s={text:o,img:i.value};console.log(s);var d=new FormData;for(var b in s)d.append(b,s[b]);fetch(J+"/create_recipe",{method:"POST",body:d}).then((function(c){200===c.status?(H("Recipe successfully created"),URL.revokeObjectURL(a.value),e.dispatch("User/getAllRecipes"),n.push("/list/".concat(t.value._id))):K("Error! Recipe has not been created!")})).catch((function(e){console.error("Error:",e),K("Something went wrong :( Please contact administrator")}))},o=function(e){var t=r.recipe.recipeIngredients.findIndex((function(t){return t.id===e.id}));r.recipe.recipeIngredients[t]=e},s=function(){var e={id:De,name:"",amount:"",unit:""};r.recipe.recipeIngredients.push(e),De++},d=function(e){var t=r.recipe.recipeIngredients.filter((function(t){return t.id!==e}));r.recipe.recipeIngredients=t};function b(){var e=this;this.recipeForm.validate((function(t){t&&l(e.state.recipe)}))}function m(){n.push("/")}var j=function(e){i.value=e.raw,a.value=URL.createObjectURL(e.raw)},O=function(){i.value="",URL.revokeObjectURL(a.value),a.value=""};return{state:r,units:c,submitForm:b,recipeForm:u,cancel:m,changeIng:o,addIng:s,deleteIng:d,handleImgUpload:j,img:i,imgURL:a,deleteImg:O}}};n("488a");Se.render=ve,Se.__scopeId="data-v-36c37896";var Me=Se,ke=Object(c["fb"])("data-v-6aa01192");Object(c["G"])("data-v-6aa01192");var Re={style:{margin:"3px auto"}};Object(c["E"])();var Ee=ke((function(e,t,n,r,i,a){var u=Object(c["M"])("el-row"),l=Object(c["M"])("Card"),o=Object(c["M"])("el-button"),s=Object(c["M"])("el-tooltip");return Object(c["D"])(),Object(c["i"])(c["b"],null,[r.selectedUser?(Object(c["D"])(),Object(c["i"])(u,{key:0,type:"flex",justify:"center"},{default:ke((function(){return[Object(c["m"])("h3",Re,Object(c["Q"])(r.selectedUser.name),1)]})),_:1})):Object(c["j"])("",!0),Object(c["m"])(u,{type:"flex"},{default:ke((function(){return[(Object(c["D"])(!0),Object(c["i"])(c["b"],null,Object(c["K"])(r.recipes,(function(e){return Object(c["D"])(),Object(c["i"])(l,{class:"card2",key:e.id,recipe:e},null,8,["recipe"])})),128))]})),_:1}),r.user?(Object(c["D"])(),Object(c["i"])(s,{key:1,effect:"light",content:"Add recipe",placement:"top"},{default:ke((function(){return[Object(c["m"])(o,{type:"primary",icon:"el-icon-plus",circle:"",class:"addRecipe",onClick:t[1]||(t[1]=function(e){return r.createRecipe()})})]})),_:1})):Object(c["j"])("",!0)],64)})),Ce=Object(c["fb"])("data-v-0ade7606");Object(c["G"])("data-v-0ade7606");var Le={style:{padding:"14px"},class:"info"},Ve={class:"user"},Fe={class:"bottom"},Te={class:"time"},Pe=Object(c["l"])("Try it");Object(c["E"])();var Ne=Ce((function(e,t,n,r,i,a){var u=Object(c["M"])("el-button"),l=Object(c["M"])("router-link"),o=Object(c["M"])("el-card");return Object(c["D"])(),Object(c["i"])(o,{"body-style":{padding:"0px"},onClick:t[1]||(t[1]=function(e){return r.showRecipe()})},{default:Ce((function(){return[Object(c["m"])("img",{src:n.recipe.img,class:"image"},null,8,["src"]),Object(c["m"])("div",Le,[Object(c["m"])("div",Ve,Object(c["Q"])(n.recipe.user),1),Object(c["m"])("span",null,Object(c["Q"])(n.recipe.recipeName),1),Object(c["m"])("div",Fe,[Object(c["m"])("time",Te,Object(c["Q"])(n.recipe.date),1),Object(c["m"])(l,{to:"/".concat(n.recipe.userID,"/recipe/").concat(n.recipe._id),style:{"text-decoration":"none"}},{default:Ce((function(){return[Object(c["m"])(u,{type:"text",class:"button"},{default:Ce((function(){return[Pe]})),_:1})]})),_:1},8,["to"])])])]})),_:1})})),Ae={props:{recipe:{type:Object,required:!0}},setup:function(e){var t=Object(p["d"])(),n=function(){t.push("/".concat(e.recipe.userID,"/recipe/").concat(e.recipe._id))};return{showRecipe:n}}};n("7551");Ae.render=Ne,Ae.__scopeId="data-v-0ade7606";var We=Ae,Ge={name:"CardList",setup:function(){var e=Object(f["b"])(),t=Object(p["d"])(),n=Object(p["c"])(),r=Object(c["g"])((function(){return e.state.User.user})),i=Object(c["g"])((function(){return e.state.User.users})),a=Object(c["g"])((function(){return i.value.find((function(e){return e._id===n.params.userID}))})),u=function(){t.push("/create_recipe")},l=Object(c["g"])((function(){if(a.value){var t=e.state.User.recipes.filter((function(e){return e.userID===a.value._id}));return t}return e.state.User.recipes}));return{recipes:l,createRecipe:u,user:r,selectedUser:a}},components:{Card:We}};n("7bb5");Ge.render=Ee,Ge.__scopeId="data-v-6aa01192";var ze=Ge,Qe=Object(c["fb"])("data-v-191c26bc");Object(c["G"])("data-v-191c26bc");var qe={key:0,class:"background"},Ke=Object(c["m"])("i",{class:"el-icon-s-custom"},null,-1),He={style:{"margin-left":"10px","min-width":"300 mm"}},Je={class:"userAndDate"},Be={class:"userAndDate"},Xe=Object(c["m"])("h4",{style:{"padding-left":"30px","margin-top":"30px","margin-bottom":"5px"}},"Ingredients:",-1),Ye={key:0,style:{margin:"0 auto"}},Ze=Object(c["l"])("Edit"),$e=Object(c["l"])("Delete"),et=Object(c["m"])("div",{style:{display:"flex","justify-content":"center"}},[Object(c["m"])("span",null,"Do you realy want to delete this recipe?")],-1),tt={style:{display:"flex","justify-content":"space-evenly"}},nt=Object(c["l"])("Cancel"),ct=Object(c["l"])("Confirm");Object(c["E"])();var rt=Qe((function(e,t,n,r,i,a){var u=Object(c["M"])("el-row"),l=Object(c["M"])("el-avatar"),o=Object(c["M"])("el-col"),s=Object(c["M"])("el-button"),d=Object(c["M"])("el-dialog");return Object(c["D"])(),Object(c["i"])(c["b"],null,[r.selectedRecipe?(Object(c["D"])(),Object(c["i"])("div",qe,[Object(c["m"])(u,{type:"flex",justify:"center",style:{margin:"auto 20px"}},{default:Qe((function(){return[Object(c["m"])("h2",null,Object(c["Q"])(r.selectedRecipe.recipeName),1)]})),_:1}),Object(c["m"])(u,{type:"flex",justify:"space-between"},{default:Qe((function(){return[Object(c["m"])(u,{type:"flex",justify:"start",style:{"flex-direction":"column"}},{default:Qe((function(){return[Object(c["m"])(u,{style:{"margin-left":"40px"},type:"flex",justify:"start"},{default:Qe((function(){return[Object(c["m"])("div",null,[Object(c["m"])(l,{size:50,src:r.recipeCreatorImg,class:"avatar"},{default:Qe((function(){return[Ke]})),_:1},8,["src"])]),Object(c["m"])("div",He,[Object(c["m"])("div",Je,Object(c["Q"])(r.selectedRecipe.user),1),Object(c["m"])("div",Be,Object(c["Q"])(r.selectedRecipe.date),1)])]})),_:1}),Object(c["m"])(u,{type:"flex",justify:"start"},{default:Qe((function(){return[Object(c["m"])(o,{style:{"padding-left":"20px"}},{default:Qe((function(){return[Xe,Object(c["m"])(u,null,{default:Qe((function(){return[r.selectedRecipe?(Object(c["D"])(),Object(c["i"])("ul",Ye,[(Object(c["D"])(!0),Object(c["i"])(c["b"],null,Object(c["K"])(r.selectedRecipe.recipeIngredients,(function(e){return Object(c["D"])(),Object(c["i"])("li",{key:e.id,style:{"margin-top":"10px"}},Object(c["Q"])("".concat(e.name," - ").concat(e.amount," ").concat(e.unit,";")),1)})),128))])):Object(c["j"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(c["m"])(u,{type:"flex",justify:"center",style:{margin:"20px 20px"}},{default:Qe((function(){return[Object(c["m"])(o,{span:12,class:"imageContainer"},{default:Qe((function(){return[Object(c["m"])("img",{src:r.selectedRecipe.img,class:"image"},null,8,["src"])]})),_:1})]})),_:1})]})),_:1}),Object(c["m"])(u,{justify:"start",style:{padding:"40px 20px 20px 20px"}},{default:Qe((function(){return[Object(c["l"])(Object(c["Q"])(r.selectedRecipe.recipeText),1)]})),_:1}),r.user&&r.user._id===r.selectedRecipe.userID?(Object(c["D"])(),Object(c["i"])(u,{key:0,type:"flex",justify:"end",style:{"margin-right":"30px","margin-top":"20px","padding-bottom":"30px"}},{default:Qe((function(){return[Object(c["m"])(s,{type:"primary",round:"",onClick:t[1]||(t[1]=function(e){return r.editRecipe()})},{default:Qe((function(){return[Ze]})),_:1}),Object(c["m"])(s,{type:"danger",round:"",onClick:t[2]||(t[2]=function(e){return r.centerDialogVisible=!0})},{default:Qe((function(){return[$e]})),_:1})]})),_:1})):Object(c["j"])("",!0)])):Object(c["j"])("",!0),Object(c["m"])(d,{title:"Warning",modelValue:r.centerDialogVisible,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.centerDialogVisible=e}),width:320,center:""},{footer:Qe((function(){return[Object(c["m"])("div",tt,[Object(c["m"])(s,{onClick:t[3]||(t[3]=function(e){return r.centerDialogVisible=!1})},{default:Qe((function(){return[nt]})),_:1}),Object(c["m"])(s,{type:"primary",onClick:t[4]||(t[4]=function(e){return r.deleteRecipe()})},{default:Qe((function(){return[ct]})),_:1})])]})),default:Qe((function(){return[et]})),_:1},8,["modelValue"])],64)})),it={setup:function(){var e=Object(f["b"])(),t=Object(xe["g"])((function(){return e.state.User.user})),n=Object(xe["g"])((function(){return e.state.User.users})),r=Object(xe["g"])((function(){return e.state.User.recipes})),i=Object(p["d"])(),a=Object(p["c"])(),u=Object(xe["g"])((function(){return r.value.find((function(e){return e._id===a.params.recipe_id}))})),l=Object(c["I"])(!1),o=Object(xe["g"])((function(){var e=n.value.find((function(e){return e.name===u.value.user}));return e.img})),s=function(){fetch("".concat(J,"/delete_recipe/").concat(u.value._id),{method:"DELETE"}).then((function(t){200===t.status?(H("Recipe has been successfully deleted."),l.value=!1,e.dispatch("User/getAllRecipes"),i.push("/list/".concat(u.value.userID))):(K("Something went wrong :( Please contact administrator"),l.value=!1,i.push("/list/".concat(u.value.userID)))})).catch((function(e){console.error("Error:",e),K("Something went wrong :( Please contact administrator")}))},d=function(){i.push("/edit_recipe/".concat(u.value._id))};return{selectedRecipe:u,centerDialogVisible:l,user:t,deleteRecipe:s,editRecipe:d,recipeCreatorImg:o}}};n("b24a");it.render=rt,it.__scopeId="data-v-191c26bc";var at=it,ut=Object(c["fb"])("data-v-f9f281d2");Object(c["G"])("data-v-f9f281d2");var lt={key:0,style:{margin:"auto 20px"}},ot=Object(c["m"])("div",{style:{"font-size":"14px",color:"#606266","margin-bottom":"15px"}},"Ingredients:",-1),st=Object(c["m"])("div",{class:"imageLable"},"Image:",-1),dt=Object(c["m"])("i",{class:"el-icon-upload"},null,-1),bt=Object(c["m"])("div",{class:"el-upload__text"},[Object(c["l"])("Drop file here or "),Object(c["m"])("em",null,"click to upload")],-1),ft=Object(c["m"])("div",{class:"el-upload__tip"}," jpg/png files with a size less than 500kb ",-1),pt=Object(c["l"])("Save"),mt=Object(c["l"])("Cancel");Object(c["E"])();var jt=ut((function(e,t,n,r,i,a){var u=Object(c["M"])("el-row"),l=Object(c["M"])("el-input"),o=Object(c["M"])("el-form-item"),s=Object(c["M"])("AddIngredientField"),d=Object(c["M"])("el-button"),b=Object(c["M"])("el-tooltip"),f=Object(c["M"])("el-image"),p=Object(c["M"])("el-upload"),m=Object(c["M"])("el-form");return r.selectedRecipe?(Object(c["D"])(),Object(c["i"])("div",lt,[Object(c["m"])(u,{type:"flex",justify:"center",align:"middle"},{default:ut((function(){return[Object(c["m"])("h2",null,"Edit recipe "+Object(c["Q"])(r.selectedRecipe.recipeName),1)]})),_:1}),Object(c["m"])(u,{type:"flex",justify:"center",align:"middle"},{default:ut((function(){return[Object(c["m"])(m,{model:r.state.recipe,rules:r.state.rules,ref:"recipeForm","label-width":"120px","label-position":"top"},{default:ut((function(){return[Object(c["m"])(o,{label:"Recipe name",prop:"recipeName",class:"labelRecipe1 labelRecipe2"},{default:ut((function(){return[Object(c["m"])(l,{modelValue:r.state.recipe.recipeName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.state.recipe.recipeName=e})},null,8,["modelValue"])]})),_:1}),ot,(Object(c["D"])(!0),Object(c["i"])(c["b"],null,Object(c["K"])(r.state.recipe.recipeIngredients,(function(e,t){return Object(c["D"])(),Object(c["i"])(s,{i:t,key:e.id,id:e.id,units:r.units,editedIngr:e,onChangeIngredient:r.changeIng,onDeleteIngredient:r.deleteIng},null,8,["i","id","units","editedIngr","onChangeIngredient","onDeleteIngredient"])})),128)),Object(c["m"])(u,{type:"flex",justify:"center",align:"middle"},{default:ut((function(){return[Object(c["m"])(b,{effect:"light",content:"Add ingredient",placement:"left"},{default:ut((function(){return[Object(c["m"])(d,{type:"success",icon:"el-icon-plus",circle:"",onClick:t[2]||(t[2]=function(e){return r.addIng()})})]})),_:1})]})),_:1}),Object(c["m"])(o,{label:"Text:"},{default:ut((function(){return[Object(c["m"])(l,{type:"textarea",autosize:{minRows:4},placeholder:"Please input",modelValue:r.state.recipe.recipeText,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.state.recipe.recipeText=e})},null,8,["modelValue"])]})),_:1}),st,r.imgURL?(Object(c["D"])(),Object(c["i"])(u,{key:0,type:"flex",justify:"center",align:"middle",style:{"margin-bottom":"30px","flex-direction":"row"}},{default:ut((function(){return[Object(c["m"])(f,{style:{height:"100px"},src:r.imgURL,fit:"contain",class:"preview"},null,8,["src"]),Object(c["m"])(d,{type:"danger",icon:"el-icon-delete",circle:"",style:{"margin-left":"20px"},onClick:t[4]||(t[4]=function(e){return r.deleteImg()})})]})),_:1})):Object(c["j"])("",!0),r.imgURL?Object(c["j"])("",!0):(Object(c["D"])(),Object(c["i"])(u,{key:1,type:"flex",justify:"center",align:"middle",style:{"margin-bottom":"20px"}},{default:ut((function(){return[Object(c["m"])(o,{style:{width:"100%"}},{default:ut((function(){return[Object(c["m"])(p,{class:"imgUpload1 imgUpload2",drag:"",action:"","on-change":r.handleImgUpload,multiple:"","auto-upload":!1},{tip:ut((function(){return[ft]})),default:ut((function(){return[dt,bt]})),_:1},8,["on-change"])]})),_:1})]})),_:1})),Object(c["m"])(u,{type:"flex",justify:"space-around",align:"middle",style:{"margin-bottom":"50px"}},{default:ut((function(){return[Object(c["m"])(d,{type:"primary",onClick:t[5]||(t[5]=function(e){return r.submitForm()})},{default:ut((function(){return[pt]})),_:1}),Object(c["m"])(d,{onClick:t[6]||(t[6]=function(e){return r.cancel()})},{default:ut((function(){return[mt]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])]})),_:1})])):Object(c["j"])("",!0)})),Ot=function(e){for(var t,n=[],c=0;c<e.length;c++)n.push(e[c].id);t=0!==n.length?Math.max.apply(Math,n):0;var r=t+1;return r},gt={components:{AddIngredientField:Ue},setup:function(){var e=Object(f["b"])(),t=Object(q["a"])((function(){return e.state.User.user})),n=Object(q["a"])((function(){return e.state.User.recipes})),c=Object(p["d"])(),r=Object(p["c"])(),i=["none","g","kg","L","ml","tea sp.","table sp."],a=Object(q["a"])((function(){return n.value.find((function(e){return e._id===r.params.recipe_id}))})),u=Object(q["i"])({recipe:{recipeName:"",recipeIngredients:[],recipeText:"",img:""},rules:{recipeName:[{required:!0,message:"Please, enter username",trigger:"change"}]}}),l=Object(q["j"])(""),o=function(){u.recipe.recipeName=a.value.recipeName,u.recipe.recipeText=a.value.recipeText,u.recipe.recipeIngredients=a.value.recipeIngredients,u.recipe.img=a.value.img,l.value=a.value.img};Object(xe["E"])((function(){a.value&&o()})),Object(xe["G"])((function(){a.value&&o()}));var s=Object(q["j"])(""),d=Object(q["j"])(null),b=function(n){var r=Object(ae["a"])({},n);r.userID=t.value._id;var i=new Date(Date.now()),u=i.toLocaleDateString("en-GB");r.date=u,r.user=t.value.name;var o=JSON.stringify(r),d={text:o,img:s.value},b=new FormData;for(var f in d)b.append(f,d[f]);fetch("".concat(J,"/edit_recipe/").concat(a.value._id),{method:"PUT",body:b}).then((function(n){200===n.status?(H("Recipe successfully updated"),URL.revokeObjectURL(l.value),e.dispatch("User/getAllRecipes"),c.push("/list/".concat(t.value._id))):K("Error! Recipe has not been updated!")})).catch((function(e){console.error("Error:",e),K("Something went wrong :( Please contact administrator")}))},m=function(e){var t=u.recipe.recipeIngredients.findIndex((function(t){return t.id===e.id}));u.recipe.recipeIngredients[t]=e},j=function(){var e={id:Ot(u.recipe.recipeIngredients),name:"",amount:"",unit:""};u.recipe.recipeIngredients.push(e)},O=function(e){var t=u.recipe.recipeIngredients.filter((function(t){return t.id!==e}));u.recipe.recipeIngredients=t};function g(){var e=this;this.recipeForm.validate((function(t){t&&b(e.state.recipe)}))}function v(){c.push("/")}var y=function(e){s.value=e.raw,l.value=URL.createObjectURL(e.raw)},h=function(){s.value="",u.recipe.img="",URL.revokeObjectURL(l.value),l.value=""};return{state:u,units:i,submitForm:g,recipeForm:d,cancel:v,changeIng:m,addIng:j,deleteIng:O,handleImgUpload:y,selectedRecipe:a,deleteImg:h,imgURL:l}}};n("a384");gt.render=jt,gt.__scopeId="data-v-f9f281d2";var vt=gt,yt=[{path:"/",redirect:"/list",name:"Home",component:F,children:[{path:"/list/:userID?",component:ze},{path:"/:userID/recipe/:recipe_id",component:at}]},{path:"/login",name:"Login",component:X},{path:"/create_account",name:"CreateAccount",component:le},{path:"/create_recipe",name:"CreateRecipe",component:Me},{path:"/edit_recipe/:recipe_id",name:"EditRecipe",component:vt}],ht=Object(p["a"])({history:Object(p["b"])(),routes:yt}),_t=ht;console.log(J);var xt={namespaced:!0,state:{user:null,selectedUser:null,users:[],recipes:[],screenWidth:0,showSidebar:!0},mutations:{SET_USER:function(e,t){e.user=t},SET_SELECTED_USER:function(e,t){e.selectedUser=t},SET_USERS:function(e,t){e.users=t},SET_RECIPES:function(e,t){e.recipes=t},SET_SCREEN_WIDTH:function(e,t){e.screenWidth=t},SET_SHOW_SIDEBAR:function(e,t){e.showSidebar=t}},actions:{setUser:function(e,t){var n=e.commit;n("SET_USER",t)},setSelectedUser:function(e,t){var n=e.commit;n("SET_SELECTED_USER",t)},getAllUsers:function(e){var t=e.commit;fetch(J+"/get_users",{method:"POST"}).then((function(e){return e.json()})).then((function(e){t("SET_USERS",e)}))},getAllRecipes:function(e){var t=e.commit;fetch(J+"/get_recipes",{method:"POST"}).then((function(e){return e.json()})).then((function(e){t("SET_RECIPES",e)}))},setScreenWidth:function(e,t){var n=e.commit;n("SET_SCREEN_WIDTH",t)},setShowSidebar:function(e,t){var n=e.commit;n("SET_SHOW_SIDEBAR",t)}}},wt=Object(f["a"])({state:{},mutations:{},actions:{},modules:{User:xt}});Object(c["h"])(w).use(wt).use(_t).use(r["b"]).mount("#app")},7551:function(e,t,n){"use strict";n("908b")},"756a":function(e,t,n){},"7bb5":function(e,t,n){"use strict";n("756a")},8101:function(e,t,n){},"824c":function(e,t,n){"use strict";n("bc9c")},"8a6b":function(e,t,n){},"8fe3":function(e,t,n){"use strict";n("2af6")},"908b":function(e,t,n){},"9a53":function(e,t,n){"use strict";n("06ef")},a384:function(e,t,n){"use strict";n("224b")},a6fc:function(e,t,n){},b24a:function(e,t,n){"use strict";n("d859")},bc9c:function(e,t,n){},c1dd:function(e,t,n){},c90e:function(e,t,n){},d859:function(e,t,n){},d89b:function(e,t,n){},d8f0:function(e,t,n){"use strict";n("a6fc")}});
//# sourceMappingURL=app.31238135.js.map